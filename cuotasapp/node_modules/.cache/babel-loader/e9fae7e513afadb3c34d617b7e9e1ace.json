{"ast":null,"code":"'use strict';\n\nmodule.exports = function generate_custom(it, $keyword) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + '.' + $keyword;\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.v5 && $schema && $schema.$data,\n      $schemaValue;\n\n  if ($isData) {\n    out += ' var schema' + $lvl + ' = ' + it.util.getData($schema.$data, $dataLvl, it.dataPathArr) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n\n  var $rule = this,\n      $definition = 'definition' + $lvl,\n      $rDef = $rule.definition,\n      $validate = $rDef.validate,\n      $compile,\n      $inline,\n      $macro,\n      $ruleValidate,\n      $validateCode;\n\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + $definition + ' = RULES.custom[\\'' + $keyword + '\\'].definition; var ' + $validateCode + ' = ' + $definition + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n\n  var $ruleErrs = $validateCode + '.errors',\n      $i = 'i' + $lvl,\n      $ruleErr = 'ruleErr' + $lvl,\n      $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n\n  if (!($inline || $macro)) {\n    out += '' + $ruleErrs + ' = null;';\n  }\n\n  out += 'var ' + $errs + ' = errors;var valid' + $lvl + ';';\n\n  if ($inline && $rDef.statements) {\n    out += ' ' + $ruleValidate.validate;\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + $code;\n  } else if (!$inline) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + $validateCode + '.call( ';\n\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + $data + ' ';\n    } else {\n      out += ' , ' + $schemaValue + ' , ' + $data + ' , validate.schema' + it.schemaPath + ' ';\n    }\n\n    out += ' , (dataPath || \\'\\')';\n\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + it.errorPath;\n    }\n\n    if ($dataLvl) {\n      out += ' , data' + ($dataLvl - 1 || '') + ' , ' + it.dataPathArr[$dataLvl] + ' ';\n    } else {\n      out += ' , parentData , parentDataProperty ';\n    }\n\n    out += ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n\n    if ($rDef.errors !== false) {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + $ruleErrs + ' = null; try { valid' + $lvl + ' = ' + it.yieldAwait + def_callRuleValidate + '; } catch (e) { valid' + $lvl + ' = false; if (e instanceof ValidationError) ' + $ruleErrs + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + $validateCode + '.errors = null; ';\n      }\n    }\n  }\n\n  out += 'if (';\n\n  if ($validateSchema) {\n    out += ' !' + $definition + '.validateSchema(' + $schemaValue + ') || ';\n  }\n\n  out += ' ! ';\n\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' valid' + $lvl + ' ';\n    } else {\n      out += ' (' + $ruleValidate.validate + ') ';\n    }\n  } else if ($macro) {\n    out += ' ' + $nextValid + ' ';\n  } else {\n    if ($asyncKeyword) {\n      if ($rDef.errors === false) {\n        out += ' (' + it.yieldAwait + def_callRuleValidate + ') ';\n      } else {\n        out += ' valid' + $lvl + ' ';\n      }\n    } else {\n      out += ' ' + def_callRuleValidate + ' ';\n    }\n  }\n\n  out += ') { ';\n  $errorKeyword = $rule.keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = '';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = '';\n  /* istanbul ignore else */\n\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { keyword: \\'' + $rule.keyword + '\\' } ';\n\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should pass \"' + $rule.keyword + '\" keyword validation\\' ';\n    }\n\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n    }\n\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n\n  var __err = out;\n  out = $$outStack.pop();\n\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + __err + ']); ';\n    } else {\n      out += ' validate.errors = [' + __err + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n\n  var def_customError = out;\n  out = $$outStack.pop();\n\n  if ($inline) {\n    if ($rDef.errors) {\n      if ($rDef.errors != 'full') {\n        out += '  for (var ' + $i + '=' + $errs + '; ' + $i + '<errors; ' + $i + '++) { var ' + $ruleErr + ' = vErrors[' + $i + ']; if (' + $ruleErr + '.dataPath === undefined) { ' + $ruleErr + '.dataPath = (dataPath || \\'\\') + ' + it.errorPath + '; } if (' + $ruleErr + '.schemaPath === undefined) { ' + $ruleErr + '.schemaPath = \"' + $errSchemaPath + '\"; } ';\n\n        if (it.opts.verbose) {\n          out += ' ' + $ruleErr + '.schema = ' + $schemaValue + '; ' + $ruleErr + '.data = ' + $data + '; ';\n        }\n\n        out += ' } ';\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + def_customError + ' ';\n      } else {\n        out += ' if (' + $errs + ' == errors) { ' + def_customError + ' } else {  for (var ' + $i + '=' + $errs + '; ' + $i + '<errors; ' + $i + '++) { var ' + $ruleErr + ' = vErrors[' + $i + ']; if (' + $ruleErr + '.dataPath === undefined) { ' + $ruleErr + '.dataPath = (dataPath || \\'\\') + ' + it.errorPath + '; } if (' + $ruleErr + '.schemaPath === undefined) { ' + $ruleErr + '.schemaPath = \"' + $errSchemaPath + '\"; } ';\n\n        if (it.opts.verbose) {\n          out += ' ' + $ruleErr + '.schema = ' + $schemaValue + '; ' + $ruleErr + '.data = ' + $data + '; ';\n        }\n\n        out += ' } } ';\n      }\n    }\n  } else if ($macro) {\n    out += '   var err =   ';\n    /* istanbul ignore else */\n\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { keyword: \\'' + $rule.keyword + '\\' } ';\n\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + $rule.keyword + '\" keyword validation\\' ';\n      }\n\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n      }\n\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n  } else {\n    if ($rDef.errors === false) {\n      out += ' ' + def_customError + ' ';\n    } else {\n      out += ' if (Array.isArray(' + $ruleErrs + ')) { if (vErrors === null) vErrors = ' + $ruleErrs + '; else vErrors = vErrors.concat(' + $ruleErrs + '); errors = vErrors.length;  for (var ' + $i + '=' + $errs + '; ' + $i + '<errors; ' + $i + '++) { var ' + $ruleErr + ' = vErrors[' + $i + '];  ' + $ruleErr + '.dataPath = (dataPath || \\'\\') + ' + it.errorPath + ';   ' + $ruleErr + '.schemaPath = \"' + $errSchemaPath + '\";  ';\n\n      if (it.opts.verbose) {\n        out += ' ' + $ruleErr + '.schema = ' + $schemaValue + '; ' + $ruleErr + '.data = ' + $data + '; ';\n      }\n\n      out += ' } } else { ' + def_customError + ' } ';\n    }\n  }\n\n  out += ' } ';\n\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n\n  return out;\n};","map":{"version":3,"sources":["C:/Users/juanm/Documents/Proyecto_web/ProyectoFinal-IAW/cuotasapp/node_modules/mercadopago/node_modules/ajv/lib/dotjs/custom.js"],"names":["module","exports","generate_custom","it","$keyword","out","$lvl","level","$dataLvl","dataLevel","$schema","schema","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","opts","allErrors","$errorKeyword","$data","$errs","$isData","v5","$schemaValue","util","getData","dataPathArr","$rule","$definition","$rDef","definition","$validate","validate","$compile","$inline","$macro","$ruleValidate","$validateCode","$validateSchema","validateSchema","useCustomRule","code","compile","inline","macro","$ruleErrs","$i","$ruleErr","$asyncKeyword","async","Error","statements","$it","copy","$nextValid","$wasComposite","compositeRule","$code","replace","$$outStack","push","passContext","errorPath","def_callRuleValidate","pop","errors","yieldAwait","keyword","createErrors","toQuotedString","messages","verbose","__err","def_customError"],"mappings":"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","sourcesContent":["'use strict';\nmodule.exports = function generate_custom(it, $keyword) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + '.' + $keyword;\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.v5 && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $validate = $rDef.validate,\n    $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var valid' + ($lvl) + ';';\n  if ($inline && $rDef.statements) {\n    out += ' ' + ($ruleValidate.validate);\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else if (!$inline) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    if ($dataLvl) {\n      out += ' , data' + (($dataLvl - 1) || '') + ' , ' + (it.dataPathArr[$dataLvl]) + ' ';\n    } else {\n      out += ' , parentData , parentDataProperty ';\n    }\n    out += ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors !== false) {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { valid' + ($lvl) + ' = ' + (it.yieldAwait) + (def_callRuleValidate) + '; } catch (e) { valid' + ($lvl) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($validateCode) + '.errors = null; ';\n      }\n    }\n  }\n  out += 'if (';\n  if ($validateSchema) {\n    out += ' !' + ($definition) + '.validateSchema(' + ($schemaValue) + ') || ';\n  }\n  out += ' ! ';\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' valid' + ($lvl) + ' ';\n    } else {\n      out += ' (' + ($ruleValidate.validate) + ') ';\n    }\n  } else if ($macro) {\n    out += ' ' + ($nextValid) + ' ';\n  } else {\n    if ($asyncKeyword) {\n      if ($rDef.errors === false) {\n        out += ' (' + (it.yieldAwait) + (def_callRuleValidate) + ') ';\n      } else {\n        out += ' valid' + ($lvl) + ' ';\n      }\n    } else {\n      out += ' ' + (def_callRuleValidate) + ' ';\n    }\n  }\n  out += ') { ';\n  $errorKeyword = $rule.keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = '';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  var def_customError = out;\n  out = $$outStack.pop();\n  if ($inline) {\n    if ($rDef.errors) {\n      if ($rDef.errors != 'full') {\n        out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) { ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; } if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } ';\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) { ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; } if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } ';\n      }\n    }\n  } else if ($macro) {\n    out += '   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n  } else {\n    if ($rDef.errors === false) {\n      out += ' ' + (def_customError) + ' ';\n    } else {\n      out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + '];  ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';   ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n      if (it.opts.verbose) {\n        out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n      }\n      out += ' } } else { ' + (def_customError) + ' } ';\n    }\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n"]},"metadata":{},"sourceType":"script"}