{"ast":null,"code":"'use strict';\n\nmodule.exports = function generate_dependencies(it, $keyword) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + '.' + $keyword;\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n      $propertyDeps = {};\n\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n\n  out += 'var ' + $errs + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + $lvl + ';';\n\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    out += ' if (' + $data + it.util.getProperty($property) + ' !== undefined ';\n\n    if ($breakOnError) {\n      out += ' && ( ';\n      var arr1 = $deps;\n\n      if (arr1) {\n        var _$property,\n            $i = -1,\n            l1 = arr1.length - 1;\n\n        while ($i < l1) {\n          _$property = arr1[$i += 1];\n\n          if ($i) {\n            out += ' || ';\n          }\n\n          var $prop = it.util.getProperty(_$property);\n          out += ' ( ' + $data + $prop + ' === undefined && (missing' + $lvl + ' = ' + it.util.toQuotedString(it.opts.jsonPointers ? _$property : $prop) + ') ) ';\n        }\n      }\n\n      out += ')) {  ';\n      var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n      }\n\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = '';\n      /* istanbul ignore else */\n\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { property: \\'' + it.util.escapeQuotes($property) + '\\', missingProperty: \\'' + $missingProperty + '\\', depsCount: ' + $deps.length + ', deps: \\'' + it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \")) + '\\' } ';\n\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should have ';\n\n          if ($deps.length == 1) {\n            out += 'property ' + it.util.escapeQuotes($deps[0]);\n          } else {\n            out += 'properties ' + it.util.escapeQuotes($deps.join(\", \"));\n          }\n\n          out += ' when property ' + it.util.escapeQuotes($property) + ' is present\\' ';\n        }\n\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n        }\n\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n\n      var __err = out;\n      out = $$outStack.pop();\n\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + __err + ']); ';\n        } else {\n          out += ' validate.errors = [' + __err + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + __err + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      out += ' ) { ';\n      var arr2 = $deps;\n\n      if (arr2) {\n        var $reqProperty,\n            i2 = -1,\n            l2 = arr2.length - 1;\n\n        while (i2 < l2) {\n          $reqProperty = arr2[i2 += 1];\n          var $prop = it.util.getProperty($reqProperty),\n              $missingProperty = it.util.escapeQuotes($reqProperty);\n\n          if (it.opts._errorDataPathProperty) {\n            it.errorPath = it.util.getPath($currentErrorPath, $reqProperty, it.opts.jsonPointers);\n          }\n\n          out += ' if (' + $data + $prop + ' === undefined) {  var err =   ';\n          /* istanbul ignore else */\n\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ($errorKeyword || 'dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + it.errorPath + ' , schemaPath: ' + it.util.toQuotedString($errSchemaPath) + ' , params: { property: \\'' + it.util.escapeQuotes($property) + '\\', missingProperty: \\'' + $missingProperty + '\\', depsCount: ' + $deps.length + ', deps: \\'' + it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \")) + '\\' } ';\n\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should have ';\n\n              if ($deps.length == 1) {\n                out += 'property ' + it.util.escapeQuotes($deps[0]);\n              } else {\n                out += 'properties ' + it.util.escapeQuotes($deps.join(\", \"));\n              }\n\n              out += ' when property ' + it.util.escapeQuotes($property) + ' is present\\' ';\n            }\n\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + $schemaPath + ' , parentSchema: validate.schema' + it.schemaPath + ' , data: ' + $data + ' ';\n            }\n\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n        }\n      }\n    }\n\n    out += ' }   ';\n\n    if ($breakOnError) {\n      $closingBraces += '}';\n      out += ' else { ';\n    }\n  }\n\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n\n    if (it.util.schemaHasRules($sch, it.RULES.all)) {\n      out += ' ' + $nextValid + ' = true; if (' + $data + '[\\'' + $property + '\\'] !== undefined) { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + it.validate($it) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n\n      if ($breakOnError) {\n        out += ' if (' + $nextValid + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n\n  if ($breakOnError) {\n    out += '   ' + $closingBraces + ' if (' + $errs + ' == errors) {';\n  }\n\n  out = it.util.cleanUpCode(out);\n  return out;\n};","map":{"version":3,"sources":["C:/Users/juanm/Documents/Proyecto_web/ProyectoFinal-IAW/cuotasapp/node_modules/mercadopago/node_modules/ajv/lib/dotjs/dependencies.js"],"names":["module","exports","generate_dependencies","it","$keyword","out","$lvl","level","$dataLvl","dataLevel","$schema","schema","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","opts","allErrors","$errorKeyword","$data","$errs","$it","util","copy","$closingBraces","$nextValid","$schemaDeps","$propertyDeps","$property","$sch","$deps","Array","isArray","$currentErrorPath","errorPath","getProperty","arr1","_$property","$i","l1","length","$prop","toQuotedString","jsonPointers","$propertyPath","$missingProperty","_errorDataPathProperty","getPathExpr","$$outStack","push","createErrors","escapeQuotes","join","messages","verbose","__err","pop","compositeRule","async","arr2","$reqProperty","i2","l2","getPath","$currentBaseId","baseId","schemaHasRules","RULES","all","escapeFragment","validate","cleanUpCode"],"mappings":"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","sourcesContent":["'use strict';\nmodule.exports = function generate_dependencies(it, $keyword) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + '.' + $keyword;\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {};\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    out += ' if (' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n    if ($breakOnError) {\n      out += ' && ( ';\n      var arr1 = $deps;\n      if (arr1) {\n        var _$property, $i = -1,\n          l1 = arr1.length - 1;\n        while ($i < l1) {\n          _$property = arr1[$i += 1];\n          if ($i) {\n            out += ' || ';\n          }\n          var $prop = it.util.getProperty(_$property);\n          out += ' ( ' + ($data) + ($prop) + ' === undefined && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? _$property : $prop)) + ') ) ';\n        }\n      }\n      out += ')) {  ';\n      var $propertyPath = 'missing' + $lvl,\n        $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should have ';\n          if ($deps.length == 1) {\n            out += 'property ' + (it.util.escapeQuotes($deps[0]));\n          } else {\n            out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n          }\n          out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) { /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      out += ' ) { ';\n      var arr2 = $deps;\n      if (arr2) {\n        var $reqProperty, i2 = -1,\n          l2 = arr2.length - 1;\n        while (i2 < l2) {\n          $reqProperty = arr2[i2 += 1];\n          var $prop = it.util.getProperty($reqProperty),\n            $missingProperty = it.util.escapeQuotes($reqProperty);\n          if (it.opts._errorDataPathProperty) {\n            it.errorPath = it.util.getPath($currentErrorPath, $reqProperty, it.opts.jsonPointers);\n          }\n          out += ' if (' + ($data) + ($prop) + ' === undefined) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ($errorKeyword || 'dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'should have ';\n              if ($deps.length == 1) {\n                out += 'property ' + (it.util.escapeQuotes($deps[0]));\n              } else {\n                out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n              }\n              out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n        }\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      $closingBraces += '}';\n      out += ' else { ';\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if (it.util.schemaHasRules($sch, it.RULES.all)) {\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '[\\'' + ($property) + '\\'] !== undefined) { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n"]},"metadata":{},"sourceType":"script"}