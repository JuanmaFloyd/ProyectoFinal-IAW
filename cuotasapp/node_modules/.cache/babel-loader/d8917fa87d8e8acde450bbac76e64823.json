{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juanm\\\\Documents\\\\Proyecto_web\\\\ProyectoFinal-IAW\\\\cuotasapp\\\\src\\\\Elements\\\\PaymentForm.jsx\";\nimport React from 'react';\nimport { useEffect } from 'react';\nexport const PaymentForm = () => {\n  useEffect(() => {\n    window.Mercadopago.setPublishableKey(\"TEST-bc17f6a0-f7b6-44e0-9e73-8bfd9973b243\");\n    window.Mercadopago.getIdentificationTypes();\n  });\n\n  const guessPaymentMethod = () => {\n    let cardnumber = document.getElementById(\"cardNumber\").value;\n\n    if (cardnumber.length >= 6) {\n      let bin = cardnumber.substring(0, 6);\n      window.Mercadopago.getPaymentMethod({\n        \"bin\": bin\n      }, setPaymentMethod);\n    }\n  };\n\n  const setPaymentMethod = (status, response) => {\n    if (status == 200) {\n      let paymentMethodId = response[0].id;\n      let element = document.getElementById('payment_method_id');\n      element.value = paymentMethodId;\n      getInstallments();\n    } else {\n      alert(`payment method info error: ${response}`);\n    }\n  };\n\n  const getInstallments = () => {\n    window.Mercadopago.getInstallments({\n      \"payment_method_id\": document.getElementById('payment_method_id').value,\n      \"amount\": parseFloat(document.getElementById('transaction_amount').value)\n    }, function (status, response) {\n      if (status == 200) {\n        document.getElementById('installments').options.length = 0;\n        response[0].payer_costs.forEach(installment => {\n          let opt = document.createElement('option');\n          opt.text = installment.recommended_message;\n          opt.value = installment.installments;\n          document.getElementById('installments').appendChild(opt);\n        });\n      } else {\n        alert(`installments method info error: ${response}`);\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    action: \"http://localhost:5001/procesar_pago\",\n    className: \"pt-5\",\n    method: \"post\",\n    id: \"pay\",\n    name: \"pay\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"description\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, \"Descripci\\xF3n\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"description\",\n    id: \"description\",\n    defaultValue: \"\\xCDtem seleccionado\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"transaction_amount\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 25\n    }\n  }, \"Monto a pagar\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    name: \"transaction_amount\",\n    id: \"transaction_amount\",\n    defaultValue: \"100\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"cardNumber\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, \"N\\xFAmero de la tarjeta\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: guessPaymentMethod,\n    type: \"text\",\n    id: \"cardNumber\",\n    \"data-checkout\": \"cardNumber\",\n    onselectstart: \"return false\",\n    onpaste: \"return false\",\n    onCopy: \"return false\",\n    onCut: \"return false\",\n    onDrag: \"return false\",\n    onDrop: \"return false\",\n    autocomplete: \"off\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"cardholderName\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 25\n    }\n  }, \"Nombre y apellido\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"cardholderName\",\n    \"data-checkout\": \"cardholderName\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"cardExpirationMonth\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 25\n    }\n  }, \"Mes de vencimiento\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"cardExpirationMonth\",\n    \"data-checkout\": \"cardExpirationMonth\",\n    onselectstart: \"return false\",\n    onpaste: \"return false\",\n    onCopy: \"return false\",\n    onCut: \"return false\",\n    onDrag: \"return false\",\n    onDrop: \"return false\",\n    autocomplete: \"off\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"cardExpirationYear\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 25\n    }\n  }, \"A\\xF1o de vencimiento\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"cardExpirationYear\",\n    \"data-checkout\": \"cardExpirationYear\",\n    onselectstart: \"return false\",\n    onpaste: \"return false\",\n    onCopy: \"return false\",\n    onCut: \"return false\",\n    onDrag: \"return false\",\n    onDrop: \"return false\",\n    autocomplete: \"off\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"securityCode\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, \"C\\xF3digo de seguridad\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"securityCode\",\n    \"data-checkout\": \"securityCode\",\n    onselectstart: \"return false\",\n    onpaste: \"return false\",\n    onCopy: \"return false\",\n    onCut: \"return false\",\n    onDrag: \"return false\",\n    onDrop: \"return false\",\n    autocomplete: \"off\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"installments\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 25\n    }\n  }, \"Cuotas\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    id: \"installments\",\n    name: \"installments\",\n    className: \"form-control w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"docType\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 25\n    }\n  }, \"Tipo de documento\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"select\", {\n    id: \"docType\",\n    \"data-checkout\": \"docType\",\n    className: \"form-control w-75\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"docNumber\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, \"N\\xFAmero de documento\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"docNumber\",\n    \"data-checkout\": \"docNumber\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"email\",\n    className: \"col-sm-2 col-form-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, \"E-mail\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    name: \"email\",\n    defaultValue: \"test@test.com\",\n    className: \"form-control w-75 p-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"hidden\",\n    name: \"payment_method_id\",\n    id: \"payment_method_id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Pagar\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }))));\n};","map":{"version":3,"sources":["C:/Users/juanm/Documents/Proyecto_web/ProyectoFinal-IAW/cuotasapp/src/Elements/PaymentForm.jsx"],"names":["React","useEffect","PaymentForm","window","Mercadopago","setPublishableKey","getIdentificationTypes","guessPaymentMethod","cardnumber","document","getElementById","value","length","bin","substring","getPaymentMethod","setPaymentMethod","status","response","paymentMethodId","id","element","getInstallments","alert","parseFloat","options","payer_costs","forEach","installment","opt","createElement","text","recommended_message","installments","appendChild"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useEffect } from 'react'\r\n\r\nexport const PaymentForm = () => {\r\n    useEffect(() => {\r\n        window.Mercadopago.setPublishableKey(\"TEST-bc17f6a0-f7b6-44e0-9e73-8bfd9973b243\");\r\n        window.Mercadopago.getIdentificationTypes();\r\n    })\r\n\r\n    const guessPaymentMethod = () => {\r\n        let cardnumber = document.getElementById(\"cardNumber\").value;\r\n\r\n        if (cardnumber.length >= 6) {\r\n            let bin = cardnumber.substring(0,6);\r\n            window.Mercadopago.getPaymentMethod({\r\n                \"bin\": bin\r\n            }, setPaymentMethod);\r\n        }\r\n    }\r\n\r\n    const setPaymentMethod = (status, response) => {\r\n        if (status == 200) {\r\n            let paymentMethodId = response[0].id;\r\n            let element = document.getElementById('payment_method_id');\r\n            element.value = paymentMethodId;\r\n            getInstallments();\r\n        } else {\r\n            alert(`payment method info error: ${response}`);\r\n        }\r\n    }\r\n\r\n    const getInstallments = () => {\r\n        window.Mercadopago.getInstallments({\r\n            \"payment_method_id\": document.getElementById('payment_method_id').value,\r\n            \"amount\": parseFloat(document.getElementById('transaction_amount').value)\r\n            \r\n        }, function (status, response) {\r\n            if (status == 200) {\r\n                document.getElementById('installments').options.length = 0;\r\n                response[0].payer_costs.forEach( installment => {\r\n                    let opt = document.createElement('option');\r\n                    opt.text = installment.recommended_message;\r\n                    opt.value = installment.installments;\r\n                    document.getElementById('installments').appendChild(opt);\r\n                });\r\n            } else {\r\n                alert(`installments method info error: ${response}`);\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div>\r\n                <form action=\"http://localhost:5001/procesar_pago\" className=\"pt-5\" method=\"post\" id=\"pay\" name=\"pay\" >\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"description\" className=\"col-sm-2 col-form-label\">Descripción</label>                  \r\n                        <div class=\"col-sm-10\">\r\n                            <input type=\"text\" name=\"description\" id=\"description\" defaultValue=\"Ítem seleccionado\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>                    \r\n                    <div className=\"form-group row\">\r\n                        <label for=\"transaction_amount\" className=\"col-sm-2 col-form-label\">Monto a pagar</label>     \r\n                        <div class=\"col-sm-10\">                   \r\n                            <input name=\"transaction_amount\" id=\"transaction_amount\" defaultValue=\"100\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"cardNumber\" className=\"col-sm-2 col-form-label\">Número de la tarjeta</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <input onChange={guessPaymentMethod} type=\"text\" id=\"cardNumber\" data-checkout=\"cardNumber\" onselectstart=\"return false\" onpaste=\"return false\" onCopy=\"return false\" onCut=\"return false\" onDrag=\"return false\" onDrop=\"return false\" autocomplete=\"off\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"cardholderName\" className=\"col-sm-2 col-form-label\">Nombre y apellido</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <input type=\"text\" id=\"cardholderName\" data-checkout=\"cardholderName\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>                                    \r\n                    <div className=\"form-group row\">\r\n                        <label for=\"cardExpirationMonth\" className=\"col-sm-2 col-form-label\">Mes de vencimiento</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <input type=\"text\" id=\"cardExpirationMonth\" data-checkout=\"cardExpirationMonth\" onselectstart=\"return false\" onpaste=\"return false\" onCopy=\"return false\" onCut=\"return false\" onDrag=\"return false\" onDrop=\"return false\" autocomplete=\"off\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"cardExpirationYear\" className=\"col-sm-2 col-form-label\">Año de vencimiento</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <input type=\"text\" id=\"cardExpirationYear\" data-checkout=\"cardExpirationYear\" onselectstart=\"return false\" onpaste=\"return false\" onCopy=\"return false\" onCut=\"return false\" onDrag=\"return false\" onDrop=\"return false\" autocomplete=\"off\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"securityCode\" className=\"col-sm-2 col-form-label\">Código de seguridad</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <input type=\"text\" id=\"securityCode\" data-checkout=\"securityCode\" onselectstart=\"return false\" onpaste=\"return false\" onCopy=\"return false\" onCut=\"return false\" onDrag=\"return false\" onDrop=\"return false\" autocomplete=\"off\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"installments\" className=\"col-sm-2 col-form-label\">Cuotas</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <select id=\"installments\" name=\"installments\" className=\"form-control w-75\"></select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"docType\" className=\"col-sm-2 col-form-label\">Tipo de documento</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <select id=\"docType\" data-checkout=\"docType\" className=\"form-control w-75\"></select>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"docNumber\" className=\"col-sm-2 col-form-label\">Número de documento</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <input type=\"text\" id=\"docNumber\" data-checkout=\"docNumber\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"form-group row\">\r\n                        <label for=\"email\" className=\"col-sm-2 col-form-label\">E-mail</label>\r\n                        <div class=\"col-sm-10\">\r\n                            <input type=\"email\" id=\"email\" name=\"email\" defaultValue=\"test@test.com\" className=\"form-control w-75 p-3\" />\r\n                        </div>\r\n                    </div>  \r\n                    \r\n                    <input type=\"hidden\" name=\"payment_method_id\" id=\"payment_method_id\"/>\r\n                    \r\n                    <input type=\"submit\" value=\"Pagar\" className=\"btn btn-primary\" />\r\n                </form>\r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}