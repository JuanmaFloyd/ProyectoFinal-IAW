{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\juanm\\\\Documents\\\\Proyecto_web\\\\ProyectoFinal-IAW\\\\cuotasapp\\\\src\\\\Elements\\\\LogInView.jsx\";\nimport React from 'react';\nimport { Card, TextField, Typography, Container, Button } from '@material-ui/core';\nimport { useState } from 'react';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useEffect } from 'react';\nimport { useSnackbar } from 'notistack';\nexport const LogInView = () => {\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n  const history = useHistory();\n  const [nick, setNick] = useState(\"\");\n  const [newEmail, setNewEmail] = useState(\"\");\n  const [newPwd, setNewPwd] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [pwd, setPwd] = useState(\"\");\n  useEffect(() => {\n    Axios.get(\"http://localhost:5001/isAuth\", {\n      \"headers\": localStorage.getItem(\"token\") ? {\n        \"token\": localStorage.getItem(\"token\")\n      } : {\n        \"token\": \"\"\n      }\n    }).then(() => history.push(\"/admin/customer\")).catch(() => console.log(err));\n  });\n\n  const handleSignup = () => {\n    var data = {\n      nickname: nick,\n      email: newEmail,\n      password: newPwd\n    };\n    Axios.post(\"http://localhost:5001/signup\", data).then(res => {\n      enqueueSnackbar(\"Cuenta creada!\", {\n        variant: \"success\"\n      });\n    }).catch(err => console.log(err));\n  };\n\n  const handleLogin = () => {\n    var data = {\n      email: email,\n      password: pwd\n    };\n    Axios.post(\"http://localhost:5001/signin\", data).then(res => {\n      localStorage.setItem(\"token\", res.data);\n      history.push(\"/admin/customer\");\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, \"Nickname\"), /*#__PURE__*/React.createElement(TextField, {\n    onChange: e => setNick(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(TextField, {\n    onChange: e => setNewEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(TextField, {\n    onChange: e => setNewPwd(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleSignup,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, \"Registrarse\")), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 17\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(TextField, {\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(TextField, {\n    onChange: e => setPwd(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: handleLogin,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }, \"Conectarse\")));\n};","map":{"version":3,"sources":["C:/Users/juanm/Documents/Proyecto_web/ProyectoFinal-IAW/cuotasapp/src/Elements/LogInView.jsx"],"names":["React","Card","TextField","Typography","Container","Button","useState","Axios","useHistory","useEffect","useSnackbar","LogInView","enqueueSnackbar","history","nick","setNick","newEmail","setNewEmail","newPwd","setNewPwd","email","setEmail","pwd","setPwd","get","localStorage","getItem","then","push","catch","console","log","err","handleSignup","data","nickname","password","post","res","variant","handleLogin","setItem","e","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Card, TextField, Typography, Container, Button } from '@material-ui/core'\r\nimport { useState } from 'react';\r\nimport Axios from 'axios';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useEffect } from 'react';\r\nimport { useSnackbar } from 'notistack';\r\n\r\nexport const LogInView = () => {\r\n    const { enqueueSnackbar } = useSnackbar();\r\n    const history = useHistory();\r\n    const [nick, setNick] = useState(\"\");\r\n    const [newEmail, setNewEmail] = useState(\"\");\r\n    const [newPwd, setNewPwd] = useState(\"\");\r\n    const [email, setEmail] = useState(\"\");\r\n    const [pwd, setPwd] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        Axios.get(\"http://localhost:5001/isAuth\", {\"headers\": (localStorage.getItem(\"token\")) ? {\"token\": localStorage.getItem(\"token\")} : {\"token\": \"\"}})\r\n            .then(() => history.push(\"/admin/customer\"))\r\n            .catch(() => console.log(err))\r\n    })\r\n\r\n    const handleSignup = () => {\r\n        var data = {\r\n            nickname: nick,\r\n            email: newEmail,\r\n            password: newPwd\r\n        }\r\n\r\n        Axios.post(\"http://localhost:5001/signup\", data)\r\n            .then(res => {\r\n                enqueueSnackbar(\"Cuenta creada!\", {variant: \"success\"});\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    const handleLogin = () => {\r\n        var data = {\r\n            email: email,\r\n            password: pwd\r\n        }\r\n\r\n        Axios.post(\"http://localhost:5001/signin\", data)\r\n            .then(res => {\r\n                localStorage.setItem(\"token\", res.data);\r\n                history.push(\"/admin/customer\");\r\n            })\r\n            .catch(err => console.log(err))\r\n    }\r\n\r\n    return(\r\n        <Container>\r\n            <Card>\r\n                <Typography>Nickname</Typography>\r\n                <TextField onChange={e => setNick(e.target.value)}></TextField>\r\n                \r\n                <Typography>Email</Typography>\r\n                <TextField onChange={e => setNewEmail(e.target.value)}></TextField>\r\n                \r\n                <Typography>Password</Typography>\r\n                <TextField onChange={e => setNewPwd(e.target.value)}></TextField>\r\n                \r\n                <Button onClick={handleSignup}>Registrarse</Button>\r\n            </Card>\r\n            <Card>\r\n                <Typography>Email</Typography>\r\n                <TextField onChange={e => setEmail(e.target.value)}></TextField>\r\n                \r\n                <Typography>Password</Typography>\r\n                <TextField onChange={e => setPwd(e.target.value)}></TextField>\r\n\r\n                <Button onClick={handleLogin}>Conectarse</Button>\r\n            </Card>\r\n        </Container>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}